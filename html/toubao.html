<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="../css/public.css">
    <link rel="stylesheet" href="../css/toubao.css">
    <link rel="stylesheet" href="../iconfont/iconfont.css">
    <script src="../js/jquery-3.3.1.min.js"></script>
    <script>
        $.fn.selected = function (ulId, inputId) {
            $(ulId).on("click", "li", function () {

                $(inputId).html($(this).text())

                $(inputId).attr('data-id', $(this).attr('data-id'))

                $(this).parent("ul").slideUp(10);
            })
        }

        $.fn.checkCarNum = function (wordsId) {
            // debugger
            var carNumPre = /^[^\x00-\x80][A-Z][A-Z0-9]{4}$/;

            var carNum = $(wordsId).val();

            if (!carNumPre.test(carNum) || carNum === "") {

                $(wordsId).focus();
                $(this).next("span").attr("class", "wrong");
                return false;
            } else {
                $(this).next("span").removeClass("wrong");
                return true;
            }

        }

        $.fn.checkTel = function (telId) {

            var telPre = /^(13|15|17|18|19)\d{9}$/;

            var tel = $(telId).val();

            if (!telPre.test(tel) || tel === "") {

                $(telId).focus();
                $(this).next("span").attr("class", "wrong");
                return false;
            } else {
                $(this).next("span").removeClass("wrong");
                return true;
            }
        }


        $.fn.checkName = function (nameId) {
            var namePre = /[^\x00-\x80]/;

            var name = $(nameId).val();

            if (!namePre.test(name) || name === "") {

                $(nameId).focus();
                $(this).next("span").attr("class", "wrong");
                return false;
            } else {
                $(this).next("span").removeClass("wrong");
                return true;
            }

        }

        $.fn.checkMail = function (mailId) {

            var mailPre = /^\w+@\w+(\.[a-zA-Z]{2,3}){1,2}$/;

            var mail = $(mailId).val();

            if (!mailPre.test(mail) || mail === "") {

                $(mailId).focus();
                $(this).next("span").attr("class", "wrong");
                return false;
            } else {
                $(this).next("span").removeClass("wrong");
                return true;
            }

        }

        $.fn.checkNull = function (elementId, checkType) {
            // debugger;
            var element = checkType === 'text' ? $(elementId).text() : $(elementId).val()
            // var elementInput = $(elementId).val();

            if (element === '') {

                $(elementId).focus();
                // 加 class  用啥来着。？

                // addClass 
                $(this).next("span").attr("class", "wrong");
                return false;
            } else {
                $(this).next("span").removeClass("wrong");
                return true;
            }

        }
    </script>
    <title>我要投保</title>

</head>

<body>
    <div id="id">嘉润微车行</div>

    <div id="logo-search">
        <div class="logo"><img src="../img/public_logo.png" alt="logo"></div>
        <div class="search">
            <!--以下是有搜索框，有登录，有注册的头部-->

            <a href="refister.html">注册</a>
            <a href="login.html">登录</a>
            <form action="" method="get">
                <input type="text" name="sear">
            </form>



            <!--以下是只有登录和注册的头部
            <a href="refister.html">注册</a>
            <a href="login.html">登录</a>-->



            <!--以下是有秦皇岛，有搜索框，有头像的头部-->
            <a class="rentou" href="#"><img src="../img/public_touxiang.png"></a>
            <form action="" method="get">
                <select>
                    <option value="秦皇岛">秦皇岛</option>
                    <option value="秦皇岛">唐山</option>
                    <option value="秦皇岛">石家庄</option>
                    <option value="秦皇岛">承德</option>
                </select>
                <input type="text" name="sear">
            </form>



            <!--以下是有搜索框，有头像的头部
            <a class="rentou" href="#"><img src="../img/public_touxiang.png"></a>
            <form action="" method="get">
                <input type="text" name="sear" >
            </form>-->





        </div>
    </div>

    <div id="con-top">

        <div class="patitle">
            <h3>我要投保</h3>
        </div>


        <a href="#" onclick="history.back()" class="back-last"><img src="../img/back.png" alt=""></a>

        <!-- 导航 -->
        <a class="nav" href="#" data-title="0"><img src="../img/public_zhankai.png" alt=""></a>
        <!-- 导航 -->

        <ul class="none-nav" style="right: -150px;z-index:10000">
            <li><a href="welcome.html">首页</a></li>
            <li><a href="inspect-car.html">检车</a></li>
            <li><a href="carwash.html">洗车</a></li>
            <li><a href="insure.html">保险</a></li>
            <li><a href="repairlist.html">维护保养</a></li>
            <li><a href="news.html">新闻发布</a></li>
        </ul>
    </div>

    <!-- 页面内容 -->
    <div class="contents">
        <div class="carInfo">
            <h3>车辆基本信息</h3>
            <ul action="">
                <li class="form-box">
                    <p class="infoName">车辆所在地：</p>
                    <div class="inputBox" id="carInputBox">
                        <p class="inputLine" id="inputLine"></p>
                        <i class="iconfont icon-arrowdropdown arrowDown"></i>
                        <ul class="selection" id="selection">
                            <li>北京</li>
                            <li>广州</li>
                            <li>上海</li>
                            <li>深圳</li>
                            <li>重庆</li>
                        </ul>
                    </div>
                    <span></span>
                </li>
                <li class="form-box">
                    <p class="infoName">车牌号：</p>
                    <div class="inputBox" id="carNumBox">
                        <input type="text" class="inputLine" id="carNum">
                    </div>
                    <span></span>
                </li>
                <li class="form-box">
                    <p class="infoName">购买年份：</p>
                    <div class="inputBox" id="dateBox">
                        <input type="date" class="inputLine" id="dateInput"></p>
                    </div>
                    <span></span>
                </li>
            </ul>
        </div>

        <div class="carInfo">
            <h3>联系人信息</h3>
            <ul action="">
                <li class="form-box">
                    <p class="infoName">联系人：</p>
                    <div class="inputBox" id="userName">
                        <input type="text" class="inputLine" id="userNameInput">
                    </div>
                    <span></span>
                </li>
                <li class="form-box">
                    <p class="infoName">手机号：</p>
                    <div class="inputBox" id="tel">
                        <input type="text" class="inputLine" id="telInput">
                    </div>
                    <span></span>
                </li>
                <li class="form-box">
                    <p class="infoName">邮箱：</p>
                    <div class="inputBox" id="mail">
                        <input type="text" class="inputLine" id="mailInput">
                    </div>
                    <span></span>
                </li>
            </ul>
        </div>

        <div class="submit-partAdd">
            <a href="#" id="submit-button">投保</a>
            <p></p>
        </div>
    </div>


    <!-- 页面内容 -->

    <div id="bottom">
        <p>Copy Right 2015 QHD二手车版权所有</p>
        <p>意见反馈</p>
    </div>




    <script src="../js/public.js"></script>


    <script>
        $(".arrowDown").click(function () {
            $(this).next("ul").slideDown(500);
        })

        $("#carInputBox").selected("#selection", "#inputLine");

        $("#submit-button").click(function () {

            var arr = [{
                    checker: '#carInputBox',
                    checkId: '#inputLine',
                    checkeMothod: 'checkNull',
                    checkType: 'text'
                },
                {
                    checker: '#carNumBox',
                    checkId: '#carNum',
                    checkeMothod: 'checkCarNum',
                    checkType: 'input'
                },
                {
                    checker: '#dateBox',
                    checkId: '#dateInput',
                    checkeMothod: 'checkNull',
                    checkType: 'input'
                },
                {
                    checker: '#userName',
                    checkId: '#userNameInput',
                    checkeMothod: 'checkName',
                    checkType: 'input'
                },
                {
                    checker: '#tel',
                    checkId: '#telInput',
                    checkeMothod: 'checkTel',
                    checkType: 'input'
                },
                {
                    checker: '#mail',
                    checkId: '#mailInput',
                    checkeMothod: 'checkMail',
                    checkType: 'input'
                },
            ];



            for (var i = 0; i < arr.length; i++) {
                var currentData = arr[i]

                var hasValue = $(currentData.checker)[currentData.checkeMothod](currentData.checkId, currentData
                    .checkType);

                if (!hasValue) {
                    break;
                }

                
            }
            if(hasValue){
                $(this).next("p").html("提交成功");

                    $(this).next("p").attr("class", "check");
            }


        })
    </script>

</body>

</html>